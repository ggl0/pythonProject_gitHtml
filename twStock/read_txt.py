import os
import re

current_path = os.getcwd()
#print(current_path)
#txt_name = 'down_1.txt'

#check_H_v= [43.75, 43.74, 43.78, 43.83, 43.83, 43.78, 43.83, 43.91, 43.95, 43.92, 43.91, 43.87, 43.88, 43.78, 43.73, 43.68, 43.57, 43.41, 43.26, 43.02, 42.83, 42.58, 42.38, 42.18, 41.88, 41.35, 41.15, 41.11, 41.17, 41.19, 41.3, 41.31, 41.43, 41.5, 41.51, 41.51, 41.54, 41.57, 41.74, 42.01, 42.3, 42.54, 42.83, 43.01, 43.22, 43.28, 43.35, 43.44, 43.55, 43.63, 43.66, 43.72, 43.78, 43.83, 43.86, 43.88, 43.74, 43.83, 44.0, 44.17, 44.37, 44.41, 44.59, 44.69, 44.71, 44.67, 44.85, 45.04, 45.74, 46.32, 46.91, 47.43, 47.73, 47.83, 47.88, 47.94, 48.02, 48.07, 48.08, 48.1, 48.14, 48.21, 48.28, 48.34, 48.34, 48.29, 47.88, 47.16, 47.03, 46.88, 46.54, 46.09, 45.8, 45.8, 45.83, 45.92, 46.0, 46.17, 46.36, 46.5, 46.55, 46.49, 46.38, 46.27, 46.18, 46.11, 46.04, 45.79, 45.55, 45.29, 45.13, 44.82, 44.53, 44.37, 44.18, 44.13, 44.09, 44.09, 44.1, 44.13, 44.13, 44.12, 44.13, 44.12, 44.12, 44.12, 44.12, 44.14, 44.17, 44.15, 44.0, 43.86, 43.7, 43.59, 43.52, 43.36, 43.28, 43.28, 43.34, 43.32, 43.34, 43.36, 43.4, 43.4, 43.44, 43.43, 43.38, 43.38, 43.4, 43.38, 43.35, 43.4, 43.34, 43.32, 43.27, 43.35, 43.5, 43.64, 43.44, 43.37, 43.32, 43.3, 43.21, 43.1, 43.37, 43.31, 43.67, 43.45, 43.1, 42.72, 42.48, 42.47, 42.62, 42.81, 42.97, 43.47, 44.08, 44.53, 44.9, 45.18, 45.45, 45.69, 45.97, 46.26, 46.36, 46.44, 45.66, 45.06, 44.57, 44.19, 44.0, 43.79, 43.74, 43.64, 43.57, 43.57, 43.53, 43.53, 43.64, 43.66, 43.69, 44.23, 44.61, 44.89, 45.07, 45.25, 45.34, 45.36, 45.39, 45.41, 45.43, 45.45, 45.51, 45.58, 45.59, 45.61, 45.57, 45.55, 45.38, 45.28, 45.08, 44.92, 44.73, 44.55, 44.37, 44.19, 44.07, 44.12, 44.17, 44.2, 44.19, 44.22, 44.13, 43.96, 43.82, 43.74, 43.69, 43.6, 43.51, 43.39, 43.23, 43.12, 43.01, 42.93, 42.78, 42.66, 42.57, 42.59, 42.63, 42.71, 42.8, 42.81, 42.81, 42.81, 42.79, 42.79, 42.82, 42.78, 42.74, 42.69, 42.6, 42.48, 42.28, 41.93, 41.77, 41.6, 41.45, 41.47, 41.5, 41.54, 41.58, 41.65, 41.65, 41.7, 41.78, 41.79, 41.79, 41.76, 41.74, 41.7, 41.62, 41.53, 41.39, 41.29, 41.02, 40.63, 40.36, 40.36, 40.37, 40.37, 40.37, 40.41, 40.41, 40.45, 40.54, 40.64, 40.76, 40.8, 40.92, 40.98, 41.03, 41.03, 40.97, 40.84, 40.75, 40.63, 40.55, 40.34, 40.11, 39.86, 39.61, 41.26, 42.33, 43.1, 43.78, 44.43, 44.99, 45.58, 46.22, 46.77, 47.24, 47.6, 47.86, 48.09, 48.29, 48.39, 48.38, 48.19, 47.86, 47.35, 45.46, 45.47, 45.5, 45.7, 45.87, 46.07, 46.2, 46.29, 46.47, 46.65, 46.77, 46.86, 46.89, 46.9, 46.92, 46.93, 46.93, 46.9, 46.88, 46.86, 46.75, 46.84, 46.98, 47.07, 47.07, 47.04, 47.06, 47.08, 46.97, 46.78, 46.63, 46.46, 46.28, 46.16, 45.96, 45.73, 45.54, 45.23, 44.89, 44.5, 44.22, 44.1, 44.02, 43.94, 43.71, 43.47, 43.39, 43.39, 43.35, 43.18, 43.17, 43.13, 43.11, 43.11, 43.12, 43.14, 43.15, 43.11, 43.11, 43.08, 43.06, 43.06, 43.09, 43.13, 43.13, 43.09, 43.05, 42.9, 42.77, 42.74, 42.59, 42.57, 42.57, 42.58, 42.68, 42.75, 42.81, 43.2, 43.43, 43.69, 43.84, 43.91, 43.78, 43.56, 43.39, 43.18, 42.97, 42.66, 42.25, 41.89, 41.56, 41.19, 40.76, 40.33, 39.97, 39.56, 39.1, 39.07, 39.03, 39.18, 39.19, 39.21, 39.15, 39.09, 39.04, 39.01, 39.04, 39.06, 39.11, 39.14, 39.15, 39.14, 39.07, 39.04, 38.99, 38.8, 38.36, 38.26, 38.15, 38.13, 38.03, 37.93, 37.76, 37.56, 37.36, 37.16, 36.99, 36.82, 36.73, 36.67, 36.58, 36.52, 36.46, 36.43, 36.46, 36.46, 36.48, 36.49, 36.39, 36.26, 36.17, 36.22, 36.16, 36.2, 36.22, 36.2, 36.24, 36.28, 36.37, 36.36, 36.43, 36.41, 36.38, 36.34, 36.29, 36.51, 36.62, 36.75, 36.84, 36.99, 37.14, 37.17, 37.16, 37.19, 37.21, 37.2, 37.17, 37.28, 37.24, 37.18, 37.06, 37.17, 37.31, 37.36, 37.36, 37.26, 37.49, 37.64, 38.01, 38.36, 38.67, 39.08, 39.54, 39.7, 40.32, 40.78, 41.17, 41.53, 41.93, 42.25, 42.57, 42.76, 42.6, 42.33, 41.9, 41.75, 41.74, 41.64, 41.58, 41.51, 41.43, 41.37, 41.41, 41.32, 41.45, 41.65, 41.96, 42.17, 42.45, 42.57, 42.8, 42.93, 43.44, 43.85, 44.22, 44.45, 44.71, 44.92, 45.09, 45.1, 45.13, 45.08, 44.92, 44.6, 43.76, 43.73, 43.91, 44.01, 44.16, 44.25, 44.29, 44.31, 44.13, 44.09, 43.87, 43.73, 43.49, 44.09, 44.72, 44.8, 44.82, 44.89, 44.88, 44.74, 44.77, 44.99, 45.08, 45.12, 45.23, 45.26, 45.23, 45.21, 45.21, 45.03, 44.97, 44.84, 44.7, 44.26, 43.61, 44.09, 44.43, 44.75, 45.04, 45.12, 45.46, 45.65, 45.96, 46.05, 46.16, 46.31, 46.31, 46.33, 46.35, 46.48, 46.27, 46.11, 45.92, 45.86, 45.84, 45.83, 45.84, 45.82, 45.95, 46.16, 46.2, 46.3, 46.38, 46.41, 46.47, 46.79, 47.02, 47.23, 47.26, 47.19, 47.4, 47.54, 47.5, 47.46, 47.38, 47.27, 47.02, 46.82, 46.39, 45.75, 45.09, 44.28, 43.15, 42.6, 42.02, 41.87, 41.69, 41.58, 41.49, 41.45, 41.52, 41.57, 41.32, 41.03, 40.75, 40.37, 40.02, 39.34, 39.16, 38.99, 38.73, 38.65, 38.6, 38.51, 38.4, 38.3, 38.08, 37.9, 37.91, 37.93, 37.93, 37.96, 37.95, 37.94, 37.94, 37.94, 37.94, 37.94, 37.89, 37.92, 37.98, 37.89, 37.77, 37.72, 37.8, 37.89, 38.02, 38.13, 38.29, 38.43, 38.61, 38.66, 38.69, 38.7, 38.78, 38.86, 38.92, 39.07, 39.14, 39.12, 38.95, 38.94, 38.95, 38.53, 38.56, 38.58, 38.61, 38.61, 38.72, 38.8, 38.84, 38.91, 38.94, 38.99, 39.13, 39.29, 39.37, 39.28, 39.25, 39.2, 39.13, 39.03, 38.7, 38.32, 37.91, 37.64, 37.35, 36.94, 36.68, 36.4, 36.15, 35.83, 35.36, 34.84, 34.67, 34.66, 34.69, 34.68, 34.68, 34.77, 34.78, 34.86, 34.87, 34.88, 34.9, 34.91, 34.92, 34.94, 34.94, 34.94, 34.94, 34.94, 34.94, 34.91, 34.83, 34.75, 34.6, 34.52, 34.47, 34.3, 34.2, 33.87, 33.91, 33.94, 33.95, 33.99, 34.04, 34.04, 34.04, 34.04, 34.04, 34.05, 34.06, 34.04, 34.05, 34.06, 34.06, 34.05, 34.05, 34.05, 34.06, 34.16, 34.16, 34.16, 34.16, 34.16, 34.15, 34.18, 34.17, 34.19, 34.24, 34.35, 34.49, 34.66, 34.77, 34.86, 34.96, 35.04, 35.1, 35.11, 35.11, 35.1, 35.09, 35.07, 35.04, 35.02, 35.02, 35.01, 34.97, 34.98, 35.09, 35.15, 35.17, 35.18, 35.23, 35.28, 35.3, 35.37, 35.43, 35.43, 35.43, 35.67, 35.92, 36.13, 36.29, 36.37, 36.45, 36.41, 36.37, 36.37, 36.37, 36.37, 36.37, 36.37, 36.4, 36.4, 36.41, 36.41, 36.41, 36.36, 36.33, 36.27, 36.17, 36.02, 35.85, 35.79, 35.83, 35.89, 35.92, 35.93, 35.91, 35.91, 35.86, 35.78, 35.64, 35.51, 35.37, 35.29, 35.22, 35.12, 35.08, 35.03, 35.0, 34.94, 34.88, 34.89, 34.88, 34.88, 34.89, 35.0, 34.99, 35.0, 34.99, 35.01, 35.02, 35.02, 35.02, 35.14, 35.23, 35.31, 35.35, 35.43, 35.58, 35.69, 35.95, 36.02, 36.28, 36.5, 36.68, 36.85, 36.99, 37.08, 37.23, 37.35, 37.46, 37.55, 37.64, 37.71, 37.67, 37.68, 37.78, 37.76, 37.88, 37.99, 38.16, 38.17, 38.38, 38.49, 38.59, 38.64, 38.7, 38.71, 38.71, 38.7, 38.69, 38.75, 38.8, 38.8, 38.66, 38.59, 38.59, 38.55, 38.55, 38.57, 38.63, 38.76, 38.69, 38.65, 38.59, 38.6, 38.55, 38.57, 38.62, 38.75, 39.12, 39.26, 39.26, 39.24, 39.24, 39.16, 39.09, 39.07, 39.0, 38.77, 38.71, 38.68, 38.56, 38.42, 38.22, 37.9, 37.6, 37.14, 36.4, 36.27]

def covertTofloat(alist):
    n_alist = list()
    for i in range(len(alist)):
        n_alist.append(float(alist[i]))
    return n_alist

#get all list from txt
def get_list_fTxt(type_name,txt_name):
    al_list = list()
    file_ = current_path + '\\' + txt_name
    #print(file_)
    txt_open = open(file_)
    lines = txt_open.readlines()
    for line in lines:
        line = line.strip('\n')
        #print(line)
        if type_name in line:
            #print(line)
            del_str = type_name + '='
            line = line.replace(del_str,'')
            #print(line)
            line = re.sub('[\[\] ]','',line)
            #print(line)
            al_list = line.split(',')
    #print('al_list=',al_list)
    #print(al_list[0])
    #print('trans_=',len(al_list))
    if not 'date' in type_name:
        al_list = covertTofloat(al_list)

    return al_list


#test All data
def getAlldata():
    typeName = "macdpi"
    AllfileName = 'testAldata.txt'
    isPause = False
    txt_open = open(AllfileName)
    lines = txt_open.readlines()
    for line in lines:
        line = line.strip('\n')
        if "-----------------" in line:
            num = re.sub('[\[\] -]','',line)
            print(num)
        if typeName in line:
            del_str = typeName + '='
            line = line.replace(del_str, '')
            line = re.sub('[\[\] ]', '', line)
            print(line)
            isPause = True

        if isPause:
            break






#get_list_fTxt('H_v')
#print('check_H_v=',len(check_H_v))
#getAlldata()
